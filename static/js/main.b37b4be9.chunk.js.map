{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/ImageGallery/ImadeGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Modal/Modal.module.css","services/ApiService.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","apiService","query","page","axios","get","then","data","hits","SearchForm","state","qwery","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","S","Searchbar","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","onClick","src","alt","ImageGalleryItemImage","ImageGallery","pictures","bigImage","map","id","webformatURL","largeImageURL","Button","loader","Loader","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeydown","code","showModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","largeImage","imgTags","error","isLoading","toggleModal","fetchPictures","options","ApiService","prevState","catch","finally","onChangeQwery","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b37b4be9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__TC2Wl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3hgQf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__315i4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImadeGallery_ImageGallery__bBkBt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1zZLy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2baZ4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__mvInw\",\"Modal\":\"Modal_Modal__NgxOD\"};","import axios from \"axios\";\r\n\r\nconst API_KEY = \"21713513-de4fa038d3971b80a05884d99\";\r\n\r\nconst apiService = ({ query = \"\", page = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=15`\r\n    )\r\n    .then(({ data }) => data.hits);\r\n};\r\n\r\nexport default apiService;\r\n","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport S from \"./Searchbar.module.css\";\r\n\r\nclass SearchForm extends Component {\r\n  state = { qwery: \"\" };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ qwery: e.currentTarget.value });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.qwery);\r\n    this.setState({ qwery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={S.Searchbar}>\r\n        <form className={S.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={S.SearchFormButton}>\r\n            <span className={S.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={S.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchForm.propTypes = {\r\n  qwery: PropTypes.string,\r\n};\r\n\r\nexport default SearchForm;\r\n","import PropTypes from \"prop-types\";\r\nimport S from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => {\r\n  return (\r\n    <li className={S.ImageGalleryItem}>\r\n      <img\r\n        src={image}\r\n        alt=\"\"\r\n        className={S.ImageGalleryItemImage}\r\n        onClick={onClick}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  bigImage: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport S from \"./ImadeGallery.module.css\";\r\n\r\nconst ImageGallery = ({ pictures, bigImage }) => {\r\n  return (\r\n    <ul className={S.ImageGallery}>\r\n      {pictures.map(({ id, webformatURL, largeImageURL }) => {\r\n        const handleItemClick = () => bigImage(largeImageURL);\r\n\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            image={webformatURL}\r\n            onClick={handleItemClick}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.array,\r\n  bigImage: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from \"prop-types\";\r\nimport S from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button className={S.Button} type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport S from \"./Loader.module.css\";\r\n\r\nconst loader = () => {\r\n  return (\r\n    <Loader\r\n      className={S.Loader}\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000}\r\n    />\r\n  );\r\n};\r\n\r\nexport default loader;\r\n","import { createPortal } from \"react-dom\";\r\nimport { Component } from \"react\";\r\nimport S from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n  handleKeydown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={S.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport S from \"./App.module.css\";\nimport PropTypes from \"prop-types\";\nimport ApiService from \"./services/ApiService\";\nimport SearchForm from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    page: 1,\n    query: \"\",\n    largeImage: \"\",\n    imgTags: \"\",\n    error: \"\",\n    showModal: false,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchPictures();\n    }\n    if (this.state.page !== 2 && prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  toggleModal = () => {\n    this.setState((state) => ({\n      showModal: !state.showModal,\n    }));\n  };\n\n  bigImage = (largeImage = \"\") => {\n    this.setState({ largeImage });\n    this.toggleModal();\n  };\n\n  fetchPictures = () => {\n    const { page, query } = this.state;\n    const options = {\n      page,\n      query,\n    };\n\n    this.setState({ isLoading: true });\n\n    ApiService(options)\n      .then((pictures) => {\n        this.setState((prevState) => ({\n          pictures: [...prevState.pictures, ...pictures],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error: \"Picture not found\" }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onChangeQwery = (query) => {\n    this.setState({ query: query, page: 1, pictures: [], error: null });\n  };\n\n  render() {\n    const { pictures, isLoading, error, showModal, largeImage, imgTags } =\n      this.state;\n\n    return (\n      <div className={S.App}>\n        <SearchForm onSubmit={this.onChangeQwery} />\n\n        {error && <h1>{error}</h1>}\n\n        <ImageGallery pictures={pictures} bigImage={this.bigImage} />\n        {isLoading && <Loader />}\n        {pictures.length > 11 && !isLoading && (\n          <Button onClick={this.fetchPictures} />\n        )}\n\n        {showModal && (\n          <Modal showModal={this.bigImage}>\n            <img src={largeImage} alt={imgTags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  pictures: PropTypes.array,\n  page: PropTypes.number,\n  query: PropTypes.string,\n  largeImage: PropTypes.string,\n  imgTags: PropTypes.string,\n  error: PropTypes.string,\n  showModal: PropTypes.bool,\n  isLoading: PropTypes.bool,\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Trvv\",\"SearchForm\":\"Searchbar_SearchForm__1fD4J\",\"SearchFormButton\":\"Searchbar_SearchFormButton__bjfjd\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__22eSo\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2-zbO\"};"],"sourceRoot":""}